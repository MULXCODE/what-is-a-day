{"version":3,"sources":["webpack:///./src/assets/poses/Jasper - Greeting.png","webpack:///./src/components/chapters/chapter.mixin.js","webpack:///./src/assets/poses/Jasper - Shrug.png","webpack:///./node_modules/lodash/_castFunction.js","webpack:///./src/components/jasper-tv.vue?bdc1","webpack:///src/components/jasper-tv.vue","webpack:///./src/components/jasper-tv.vue?e9ba","webpack:///./src/components/jasper-tv.vue?76e7","webpack:///./src/assets/poses/Jasper - Head scratch.png","webpack:///./src/assets/poses/Jasper - Talk 2.png","webpack:///./node_modules/lodash/_baseKeysIn.js","webpack:///./src/components/chapters/welcome/index.vue?78d9","webpack:///./src/assets/poses/Jasper - Thumbs up.png","webpack:///./src/assets/poses/Jasper - Facepalm.png","webpack:///./src/assets/poses/Jasper - Exasperated.png","webpack:///./src/assets/poses/Jasper - Thinking.png","webpack:///./node_modules/lodash/keysIn.js","webpack:///./node_modules/lodash/forIn.js","webpack:///./src/components/chapters/welcome/index.vue?a8f2","webpack:///src/components/chapters/welcome/index.vue","webpack:///./src/components/chapters/welcome/index.vue?d837","webpack:///./src/components/chapters/welcome/index.vue?83e5","webpack:///./src/assets/poses/Jasper - Idea.png","webpack:///./src/assets/poses/Jasper - Open Arms.png","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./src/assets/poses/Jasper - Pointing NW.png","webpack:///./src/assets/poses/Jasper - Magic.png","webpack:///./src/components/jasper-tv.vue?f94b"],"names":["module","exports","__webpack_require__","p","Pi2","Math","PI","deg","shortestDistance","a0","a1","modulo","moduloBy2","da","clockFromMinutes","n","hours","floor","minutes","ampm","concat","meddleProps","props","arguments","length","undefined","meddleOptions","reduce","result","key","get","this","copilotState","set","val","opts","$meddleOptions","$value","frames","meddle","Object","_Users_wellcaffeinated_Documents_github_minutelabsio_what_is_a_day_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","trackMeddle","meddleEasing","Copilot","Easing","Elastic","Out","__webpack_exports__","inject","viewWidth","Number","viewHeight","playerLoading","Boolean","data","pauseOnPlay","cameraZoomCorrection","showEarthOptionsModal","cameraDragging","controlsOpen","graphOpen","paused","yearAngleDrag","playRate","computed","_Users_wellcaffeinated_Documents_github_minutelabsio_what_is_a_day_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","daysPerYear","solarDaysPerYear","eot","getEOT","radsPerYear","meanAnomaly","day","PERHELION","orbitalPosition","dayAngle","siderealClock","minutesPerDay","dayFrac","meanClock","solarClock","handsOff","player","enableDragging","showSun","showEarthOrbits","solarLabelAbove","camAdjust","cameraTheta","earthIsRight","euclideanModulo","topDown","cameraTopDown","x","cameraPosition","z","atan2","y","relaxDelay","relaxDuration","easing","watch","freeze","created","_this","queues","initCopilot","setState","_defaultState","smoother","Animation","Smoothener","duration","onFrameUpdate","state","lastTime","onFrame","now","beforeFrame","dt","unwatch","$watch","time","seek","execQueues","on","$on","off","$off","stopOrbitOnPlay","mounted","_this2","fixZoom","corr","w","window","innerWidth","addEventListener","removeEventListener","methods","playerPosition","getStateAt","Quadratic","InOut","targetPosition","halfYear","delta","abs","$refs","sim","setCameraProperties","position","zoom","cameraZoom","dragStart","dragging","prevPauseState","drag","amount","dragEnd","meddleCamera","params","clone","Cubic","setQueue","ts","fn","Parsers","timeParser","push","lastQueueTime","forEach","q","M","e","eccentricity","tiltAngle","VERNAL","calcEOT","identity","castFunction","value","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","class","screenOn","wasOn","img","_e","attrs","src","poses","pose","ref","staticRenderFns","makeFuzz","canvas","context","getContext","scaleFactor","FPS","scanSpeed","SAMPLE_COUNT","samples","scanSize","sampleIndex","scanOffsetY","init","width","offsetWidth","height","offsetHeight","i","generateRandomSample","interpolate","x0","y0","x1","y1","h","intensity","factor","trans","random","intensityCurve","_i","imageData","createImageData","_i2","k","color","round","putImageData","grd","createLinearGradient","addColorStop","fillStyle","globalCompositeOperation","exasperated","facepalm","greeting","head-scratch","magic","idea","open-arms","point-nw","shrug","talk2","thinking","thumbs-up","jasper_tvvue_type_script_lang_js_","components","showFuzz","fuzz","stop","draw","requestAnimationFrame","handler","clearTimeout","timeout","$nextTick","setTimeout","immediate","components_jasper_tvvue_type_script_lang_js_","component","componentNormalizer","isObject","isPrototype","nativeKeysIn","objectProto","prototype","hasOwnProperty","baseKeysIn","object","isProto","call","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_85abc6e8_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_85abc6e8_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","arrayLikeKeys","isArrayLike","keysIn","baseFor","forIn","iteratee","enter","showWelcome","alt","_v","click","$event","play","icon","size","to","appear","screen-on","tvOn","tvPose","showGrid","cameraTarget","cameraFollow","showSunOrbits","showEOTWedge","showMeanSun","showSiderialDayArc","showMeanDayArc","showSolarDayArc","showMonthLabels","showPM","days","dragstart","dragend","camera:start","camera:end","camera:change","slot","welcomevue_type_script_lang_js_","mixins","chapter_mixin","DaySim","day_sim","EOTGraph","eot_graph","SimControls","sim_controls","JasperTV","jasper_tv","copilot_default","type","default","interpolatorOpts","threshold","String","interpolator","a","Interpolators","Step","showStellarClock","showSolarClock","showDegrees","three_module","cameraRotation","showTv","defaultTransitionDuration","stickFigureStuff","keyframes","forIn_default","f","add","$meta","5s","8s","11.5s","13s","14.5s","17.5s","22s","23s","26s","31s","33s","37s","40s","43s","46.5s","48s","51s","54s","55s","58s","01:05","01:08","01:11","01:14","01:23","01:26","01:44","01:53","01:56","01:57","startTime","$snackbar","open","message","disableWelcome","$once","chapters_welcomevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_jasper_tv_vue_vue_type_style_index_0_id_3a1360c4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_jasper_tv_vue_vue_type_style_index_0_id_3a1360c4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-0a4ac50e.62bfd128.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/Jasper - Greeting.ba744776.png\";","import Copilot from 'copilot'\nimport { PERHELION, VERNAL, euclideanModulo, calcEOT } from '@/lib/stellar-mechanics'\nimport trackMeddle from '@/lib/track-meddle'\n\nconst Pi2 = Math.PI * 2\nconst deg = Math.PI / 180\n\nfunction shortestDistance( a0, a1, modulo ){\n  let moduloBy2 = 0.5 * modulo\n  let da = (a1 - a0) % modulo\n\n  return (da - moduloBy2) % modulo + moduloBy2\n}\n\n// input minutes\nfunction clockFromMinutes( n ){\n  let hours   = Math.floor(n / 60)\n  let minutes = Math.floor(n - (hours * 60))\n  let ampm = hours >= 12 ? 'pm' : 'am'\n  if ( ampm === 'pm' ){ hours -= 12 }\n\n  hours = (hours + 11) % 12 + 1\n\n  if ( hours < 10 ) { hours = '0' + hours }\n  if ( minutes < 10 ) { minutes = '0' + minutes }\n\n  return `${hours}:${minutes}${ampm}`\n}\n\nfunction meddleProps( props = [], meddleOptions = {} ){\n  return props.reduce(( result, key ) => {\n    result[key] = {\n      get: function(){\n        return this.copilotState[key]\n      }\n      , set: function( val ){\n        if ( val === this.copilotState[key] ){ return }\n        let opts = meddleOptions\n        if ( val.$meddleOptions ){\n          opts = val.$meddleOptions\n          val = val.$value\n        }\n        this.frames.meddle({ [key]: val }, opts)\n        if (key !== 'orbitalPosition'){\n          trackMeddle(this, key, val)\n        }\n      }\n    }\n    return result\n  }, {})\n}\n\nconst meddleEasing = Copilot.Easing.Elastic.Out\n\nexport default {\n  inject: [ 'player' ]\n  , props: {\n    viewWidth: Number\n    , viewHeight: Number\n    , playerLoading: Boolean\n  }\n  , data: () => ({\n    deg\n    , pauseOnPlay: true\n    , cameraZoomCorrection: 1\n    , showEarthOptionsModal: false\n\n    , cameraDragging: false\n    , controlsOpen: false\n    , graphOpen: false\n\n    , paused: true\n    , yearAngleDrag: false\n\n    , playRate: 0.1\n\n    , copilotState: {}\n  })\n  , computed: {\n    daysPerYear(){\n      return this.solarDaysPerYear + 1\n    }\n    , eot(){\n      return this.getEOT()\n    }\n    , radsPerYear(){\n      return (Pi2 / this.daysPerYear)\n    }\n    , meanAnomaly(){\n      return this.day * this.radsPerYear - PERHELION\n    }\n    , day(){\n      return this.orbitalPosition * this.daysPerYear\n    }\n    , dayAngle(){\n      return (this.day * 360 - 1) % 360 + 1\n    }\n    , siderealClock(){\n      const minutesPerDay = 24 * 60\n      let dayFrac = (this.day + 0.5) % 1\n      let minutes = minutesPerDay * dayFrac\n      return clockFromMinutes( minutes )\n    }\n    , meanClock(){\n      const minutesPerDay = 24 * 60\n      // perhelion should not matter for realistic days per year\n      // but need this to correct for weird days per year\n      let dayFrac = (this.day * (1 - 1/this.daysPerYear) + PERHELION/Pi2 + 0.5) % 1\n      let minutes = minutesPerDay * dayFrac\n      return clockFromMinutes( minutes )\n    }\n    , solarClock(){\n      const minutesPerDay = 24 * 60\n      let dayFrac = (this.day * (1 - 1/this.daysPerYear) + PERHELION/Pi2 + 0.5 + this.getEOT() / Pi2) % 1\n      let minutes = minutesPerDay * dayFrac\n      return clockFromMinutes( minutes )\n    }\n    , handsOff(){\n      return this.player.paused || this.copilotState.handsOff\n    }\n    , enableDragging(){\n      return this.showSun || this.showEarthOrbits\n    }\n    , solarLabelAbove(){\n      let camAdjust = this.cameraTheta / Pi2\n      let earthIsRight = euclideanModulo(this.orbitalPosition + camAdjust, 1) < 0.5\n      let topDown = this.cameraTopDown\n      return (this.eot > 0) ^ earthIsRight ^ topDown\n    }\n    , cameraTheta(){\n      let x = this.copilotState.cameraPosition.x\n      let z = this.copilotState.cameraPosition.z\n\n      return euclideanModulo(Math.atan2( z, x ), Pi2)\n    }\n    , cameraTopDown(){\n      let y = this.copilotState.cameraPosition.y\n\n      return y >= 0\n    }\n    // copilot managed\n    , ...meddleProps([\n      'highlight'\n      , 'highlightControl'\n      , 'orbitalPosition'\n      , 'eccentricity'\n      , 'tiltAngle'\n      , 'cameraTarget'\n      , 'cameraFollow'\n      , 'solarDaysPerYear'\n      , 'showEarthOrbits'\n      , 'showSunOrbits'\n      , 'showEOTWedge'\n      , 'showSun'\n      , 'showMeanSun'\n      , 'showMonthLabels'\n      , 'showSiderialDayArc'\n      , 'showMeanDayArc'\n      , 'showSolarDayArc'\n      , 'showPM'\n      , 'showGrid'\n\n      , 'showStellarClock'\n      , 'showSolarClock'\n      , 'showMeanClock'\n      , 'showDegrees'\n    ], { relaxDelay: 1000, relaxDuration: 1000, easing: meddleEasing })\n  }\n  , watch: {\n    handsOff( val ){\n      this.frames.freeze( val, true )\n    }\n  }\n  , created(){\n    this.queues = []\n\n    this.initCopilot()\n    const frames = this.frames\n\n    this.setState({ ...this.frames._defaultState })\n\n    let smoother = Copilot.Animation.Smoothener( frames, { duration: 80 } )\n\n    const onFrameUpdate = () => {\n      var state = frames.state\n\n      smoother.setState( state )\n    }\n\n    let lastTime = 0\n    const onFrame = ( now ) => {\n\n      this.beforeFrame()\n      let state = frames.state //smoother.update()\n\n      let dt = lastTime ? 1000/60 : lastTime - now\n      lastTime = now\n      this.onFrame( state, dt )\n    }\n\n    const unwatch = this.player.$watch('time', ( time ) => {\n      frames.seek( time )\n      this.execQueues( time )\n    })\n\n    frames.on('update', onFrameUpdate)\n\n    this.$on('hook:mounted', () => {\n      this.player.$on('frame', onFrame)\n    })\n\n    this.$on('hook:beforeDestroy', () => {\n      unwatch()\n      frames.off()\n      this.player.$off('frame', onFrame)\n    })\n\n    // end copilot\n\n    const stopOrbitOnPlay = () => { if ( this.pauseOnPlay ){ this.paused = true } }\n    this.player.$on('play', stopOrbitOnPlay)\n    this.$on('hook:beforeDestroy', () => {\n      this.player.$off('play', stopOrbitOnPlay)\n    })\n  }\n  , mounted(){\n    const fixZoom = () => {\n      let corr = 1\n      let w = window.innerWidth\n      if ( w <= 720 ){\n        corr = (w / 720)\n      }\n      this.cameraZoomCorrection = corr\n    }\n    window.addEventListener('resize', fixZoom)\n    this.$on('hook:beforeDestroy', () => window.removeEventListener('resize', fixZoom))\n    fixZoom()\n  }\n  , methods: {\n    beforeFrame(){\n      let orbitalPosition = this.orbitalPosition\n      if ( this.handsOff && !this.paused ){\n\n        orbitalPosition = orbitalPosition + this.playRate / 100\n        orbitalPosition = euclideanModulo(orbitalPosition, 1)\n        // ensure that the shortest path is taken to get to target\n        let playerPosition = this.frames.getStateAt( this.frames.time ).orbitalPosition\n        orbitalPosition = playerPosition + shortestDistance( playerPosition, orbitalPosition, 1 )\n        this.orbitalPosition = { $value: orbitalPosition, $meddleOptions: { freeze: this.handsOff, relaxDelay: 0, relaxDuration: 1, easing: Copilot.Easing.Quadratic.InOut } }\n\n      } else if ( this.paused && this.yearAngleDrag ){\n\n        let targetPosition = (this.yearAngleDrag) / Pi2\n        let halfYear = 0.5\n        let delta = (targetPosition - orbitalPosition)\n        if ( Math.abs(delta) > halfYear ){\n          if ( delta > 0 ){\n            delta -= 1\n          } else {\n            delta += 1\n          }\n        }\n        orbitalPosition = orbitalPosition + delta * 0.05\n        orbitalPosition = euclideanModulo(orbitalPosition, this.daysPerYear)\n        let playerPosition = this.frames.getStateAt( this.frames.time ).orbitalPosition\n        orbitalPosition = playerPosition + shortestDistance( playerPosition, orbitalPosition, 1 )\n        this.orbitalPosition = { $value: orbitalPosition, $meddleOptions: { freeze: this.handsOff, relaxDelay: 1000, relaxDuration: 1000, easing: meddleEasing } }\n      }\n    }\n    , onFrame( state ){\n      this.setState( state )\n    }\n    , setState( state ){\n      // camera\n      if ( this.$refs.sim ){\n        this.$refs.sim.setCameraProperties({\n          position: state.cameraPosition\n          // , rotation: state.cameraRotation\n          , zoom: state.cameraZoom * this.cameraZoomCorrection\n        })\n      }\n\n      // component data\n      this.copilotState = state\n    }\n    , dragStart(){\n      this.dragging = true\n      this.prevPauseState = this.paused\n      this.paused = true\n    }\n    , drag( amount ){\n      this.yearAngleDrag = this.meanAnomaly + amount\n    }\n    , dragEnd(){\n      this.dragging = false\n      this.yearAngleDrag = false\n      this.paused = this.prevPauseState\n    }\n    , meddleCamera(params){\n      let state = {}\n      if ( params ){\n        state.cameraPosition = params.position.clone()\n        // state.cameraRotation = params.rotation.clone()\n        state.cameraZoom = params.zoom / this.cameraZoomCorrection\n      }\n\n      this.frames.meddle('camera', state, { relaxDelay: 1000, relaxDuration: 1000, freeze: this.handsOff || this.cameraDragging, easing: Copilot.Easing.Cubic.InOut })\n    }\n    , setQueue(ts, fn){\n      let time = Copilot.Parsers.timeParser( ts )\n\n      this.queues.push({\n        time\n        , fn\n      })\n    }\n    , execQueues( time ){\n      let lastTime = this.lastQueueTime || 0\n\n      this.lastQueueTime = time\n\n      if ( lastTime >= time ){\n        return\n      }\n\n      this.queues.forEach( q => {\n        if ( time < q.time || q.time <= lastTime ){ return }\n\n        q.fn()\n      })\n    }\n    , getEOT(){\n      let M = this.meanAnomaly % Pi2\n      let e = this.eccentricity\n      let y = this.tiltAngle\n      let p = PERHELION - VERNAL\n      return calcEOT( M, e, y, p )\n    }\n  }\n}\n","module.exports = __webpack_public_path__ + \"img/Jasper - Shrug.46bcb81c.png\";","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jasper-tv\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wasOn),expression:\"wasOn\"}],staticClass:\"screen\",class:{ on: _vm.screenOn, off: _vm.wasOn && !_vm.screenOn }},[(!_vm.img)?_c('img',{staticClass:\"pose\",attrs:{\"src\":_vm.poses[_vm.pose]}}):_vm._e(),(_vm.img)?_c('img',{staticClass:\"custom-image\",attrs:{\"src\":_vm.img}}):_vm._e(),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFuzz),expression:\"showFuzz\"}],ref:\"canvas\",staticClass:\"fuzz\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.jasper-tv\n  .screen(v-show=\"wasOn\", :class=\"{ on: screenOn, off: wasOn && !screenOn }\")\n    img.pose(v-if=\"!img\", :src=\"poses[pose]\")\n    img.custom-image(v-if=\"img\", :src=\"img\")\n    canvas.fuzz(ref=\"canvas\", v-show=\"showFuzz\")\n</template>\n\n<script>\nfunction makeFuzz( canvas ){\n  // From https://codepen.io/alenaksu/pen/dGjeMZ\n\n\tconst context = canvas.getContext(\"gl\") || canvas.getContext(\"2d\")\n\tconst scaleFactor = 1 // Noise size\n\tconst FPS = 50\n\tconst scanSpeed = FPS * 15 // 15 seconds from top to bottom\n\tconst SAMPLE_COUNT = 10\n  let samples = []\n\tlet scanSize = 0\n  let sampleIndex = 0\n  let scanOffsetY = 0\n\n\tfunction init() {\n\t\tcanvas.width = canvas.offsetWidth / scaleFactor\n\t\tcanvas.height = canvas.width / (canvas.offsetWidth / canvas.offsetHeight)\n\n    if (!canvas.width || !canvas.height) return\n    scanSize = canvas.offsetHeight / scaleFactor / 3\n\n\t\tsamples = []\n\t\tfor (let i = 0; i < SAMPLE_COUNT; i++){\n\t\t\tsamples.push(generateRandomSample(context, canvas.width, canvas.height))\n    }\n\t}\n\n\tfunction interpolate(x, x0, y0, x1, y1) {\n\t\treturn y0 + (y1 - y0) * ((x - x0) / (x1 - x0))\n\t}\n\n\tfunction generateRandomSample(context, w, h) {\n\t\tvar intensity = []\n\t\tvar factor = h / 50\n\t\tvar trans = 1 - Math.random() * 0.05\n\n\t\tvar intensityCurve = []\n\t\tfor (let i = 0; i < Math.floor(h / factor) + factor; i++){\n\t\t\tintensityCurve.push(Math.floor(Math.random() * 15))\n    }\n\n\t\tfor (let i = 0; i < h; i++) {\n\t\t\tvar value = interpolate(\n\t\t\t\ti / factor,\n\t\t\t\tMath.floor(i / factor),\n\t\t\t\tintensityCurve[Math.floor(i / factor)],\n\t\t\t\tMath.floor(i / factor) + 1,\n\t\t\t\tintensityCurve[Math.floor(i / factor) + 1]\n\t\t\t)\n\t\t\tintensity.push(value)\n\t\t}\n\n\t\tvar imageData = context.createImageData(w, h)\n\t\tfor (let i = 0; i < w * h; i++) {\n\t\t\tvar k = i * 4\n\t\t\tvar color = Math.floor(36 * Math.random())\n\t\t\t// Optional: add an intensity curve to try to simulate scan lines\n\t\t\tcolor += intensity[Math.floor(i / w)]\n\t\t\timageData.data[k] = imageData.data[k + 1] = imageData.data[k + 2] = color\n\t\t\timageData.data[k + 3] = Math.round(255 * trans)\n\t\t}\n\t\treturn imageData\n\t}\n\n\tfunction render() {\n\t\tcontext.putImageData(samples[Math.floor(sampleIndex)], 0, 0)\n\n\t\tsampleIndex += 20 / FPS // 1/FPS == 1 second\n\t\tif (sampleIndex >= samples.length) sampleIndex = 0\n\n\t\tvar grd = context.createLinearGradient(\n\t\t\t0,\n\t\t\tscanOffsetY,\n\t\t\t0,\n\t\t\tscanSize + scanOffsetY\n\t\t)\n\n\t\tgrd.addColorStop(0, \"rgba(255,255,255,0)\")\n\t\tgrd.addColorStop(0.1, \"rgba(255,255,255,0)\")\n\t\tgrd.addColorStop(0.2, \"rgba(255,255,255,0.2)\")\n\t\tgrd.addColorStop(0.3, \"rgba(255,255,255,0.0)\")\n\t\tgrd.addColorStop(0.45, \"rgba(255,255,255,0.1)\")\n\t\tgrd.addColorStop(0.5, \"rgba(255,255,255,1.0)\")\n\t\tgrd.addColorStop(0.55, \"rgba(255,255,255,0.55)\")\n\t\tgrd.addColorStop(0.6, \"rgba(255,255,255,0.25)\")\n\t\t//grd.addColorStop(0.8, 'rgba(255,255,255,0.15)')\n\t\tgrd.addColorStop(1, \"rgba(255,255,255,0)\")\n\n\t\tcontext.fillStyle = grd\n\t\t// context.fillRect(0, scanOffsetY, canvas.width, scanSize + scanOffsetY)\n\t\tcontext.globalCompositeOperation = \"lighter\"\n\n\t\tscanOffsetY += canvas.height / scanSpeed\n\t\tif (scanOffsetY > canvas.height) {\n      scanOffsetY = -(scanSize / 2)\n    }\n\t}\n\n\treturn {\n    init\n    , render\n  }\n}\n\nconst poses = {\n  'exasperated': require('@/assets/poses/Jasper - Exasperated.png')\n  , 'facepalm': require('@/assets/poses/Jasper - Facepalm.png')\n  , 'greeting': require('@/assets/poses/Jasper - Greeting.png')\n  , 'head-scratch': require('@/assets/poses/Jasper - Head scratch.png')\n  , 'magic': require('@/assets/poses/Jasper - Magic.png')\n  , 'idea': require('@/assets/poses/Jasper - Idea.png')\n  , 'open-arms': require('@/assets/poses/Jasper - Open Arms.png')\n  , 'point-nw': require('@/assets/poses/Jasper - Pointing NW.png')\n  , 'shrug': require('@/assets/poses/Jasper - Shrug.png')\n  , 'talk2': require('@/assets/poses/Jasper - Talk 2.png')\n  , 'thinking': require('@/assets/poses/Jasper - Thinking.png')\n  , 'thumbs-up': require('@/assets/poses/Jasper - Thumbs up.png')\n}\nexport default {\n  name: 'JasperTV'\n  , props: [\n    'pose'\n    , 'screenOn'\n    , 'img'\n  ]\n  , components: {\n  }\n  , data: () => ({\n    poses\n    , showFuzz: false\n    , wasOn: false\n  })\n  , mounted(){\n    const fuzz = this.fuzz = makeFuzz( this.$refs.canvas )\n\n    let stop = false\n    const draw = () => {\n      if ( stop ) return\n      window.requestAnimationFrame(draw)\n      if ( this.showFuzz ){\n        fuzz.render()\n      }\n    }\n\n    fuzz.init()\n    draw()\n    this.$on('hook:beforeDestroy', () => {\n      stop = true\n    })\n  }\n  , watch: {\n    screenOn: {\n      handler( on ){\n        clearTimeout(this.timeout)\n        if ( on ){\n          this.wasOn = true\n          this.showFuzz = true\n          this.$nextTick(() => { this.fuzz.init() })\n          this.timeout = setTimeout(() => {\n            this.showFuzz = false\n          }, 1000)\n        } else {\n          this.showFuzz = false\n        }\n      }\n      , immediate: true\n    }\n  }\n  , methods: {\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n$ease-out-quint: cubic-bezier(0.230, 1.000, 0.320, 1.000)\n$ease-in-quint: cubic-bezier(0.755, 0.050, 0.855, 0.060)\n@keyframes turn-on\n  0%\n    opacity: 0.4\n  100%\n    opacity: 1\n\n@keyframes turn-off\n  0%\n    transform: scale(1,1.3) translate3d(0,0,0)\n    filter: brightness(1)\n    opacity: 1\n\n  60%\n    transform: scale(1.3,0.001) translate3d(0,0,0)\n    filter: brightness(10)\n\n  100%\n    animation-timing-function: $ease-in-quint\n    transform: scale(0.000,0.0001) translate3d(0,0,0)\n    filter: brightness(50)\n\n.jasper-tv\n  position: relative\n  background: black\n  border: 2px solid $grey-dark\n  border-radius: 5px\n  overflow: hidden\n\n  .screen\n    position: relative\n    width: 100%\n    height: 100%\n    background: $white-ter\n    box-shadow: inset -1px -1px 8px rgba(0, 0, 0, 0.9)\n    overflow: hidden\n\n  .screen.off\n    animation: turn-off 0.55s $ease-out-quint\n    animation-fill-mode: forwards\n\n  .screen.on\n    animation: turn-on 1s linear\n    animation-fill-mode: forwards\n\n  .pose\n    transform: scale(1.2) translate(0, 10%)\n\n  .custom-image\n    display: block\n    max-height: 100%\n    max-width: 100%\n    margin: auto\n\n  .fuzz\n    position: absolute\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jasper-tv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jasper-tv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./jasper-tv.vue?vue&type=template&id=3a1360c4&scoped=true&lang=pug&\"\nimport script from \"./jasper-tv.vue?vue&type=script&lang=js&\"\nexport * from \"./jasper-tv.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jasper-tv.vue?vue&type=style&index=0&id=3a1360c4&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a1360c4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/Jasper - Head scratch.97905d00.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Talk 2.a3ff2d8d.png\";","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=85abc6e8&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=85abc6e8&scoped=true&lang=sass&\"","module.exports = __webpack_public_path__ + \"img/Jasper - Thumbs up.8e24a7ef.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Facepalm.29347f4b.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Exasperated.3e028334.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Thinking.4e4add10.png\";","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseFor = require('./_baseFor'),\n    castFunction = require('./_castFunction'),\n    keysIn = require('./keysIn');\n\n/**\n * Iterates over own and inherited enumerable string keyed properties of an\n * object and invokes `iteratee` for each property. The iteratee is invoked\n * with three arguments: (value, key, object). Iteratee functions may exit\n * iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forInRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forIn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n */\nfunction forIn(object, iteratee) {\n  return object == null\n    ? object\n    : baseFor(object, castFunction(iteratee), keysIn);\n}\n\nmodule.exports = forIn;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chapter\"},[_c('transition',{attrs:{\"name\":\"fade\",\"enter\":\"\"}},[(!_vm.playerLoading && _vm.showWelcome)?_c('div',{staticClass:\"welcome-overlay\"},[_c('div',{staticClass:\"content has-text-centered\"},[_c('h1',{staticClass:\"is-marginless\"},[_c('img',{attrs:{\"src\":require(\"@/assets/thumbnail-transparent.png\"),\"width\":\"480\",\"alt\":\"What is a Day?\"}}),_c('div',{staticClass:\"is-hidden\"},[_vm._v(\"What is a Day?\")])]),_c('h2',{staticClass:\"subtitle is-size-4-tablet is-size-6\"},[_vm._v(\"an interactive adventure\")]),_c('p',[_vm._v(\"Begin\")]),_c('p',[_c('button',{staticClass:\"button btn-dark is-gigantic\",on:{\"click\":function($event){return _vm.player.play()}}},[_c('b-icon',{attrs:{\"icon\":\"play\",\"size\":\"is-large\"}})],1)]),_c('p',[_vm._v(\"or\")]),_c('p',{staticClass:\"has-text-centered bottom-buttons\"},[_c('router-link',{staticClass:\"button btn-dark is-small is-rounded\",attrs:{\"to\":{ name: 'playground' }}},[_c('b-icon',{attrs:{\"icon\":\"orbit\",\"size\":\"is-small\"}}),_c('span',[_vm._v(\"go to playground\")])],1),_vm._v(\" | \"),_c('router-link',{staticClass:\"button btn-dark is-small is-rounded\",attrs:{\"to\":{ name: 'about' }}},[_c('b-icon',{attrs:{\"icon\":\"information\",\"size\":\"is-small\"}}),_c('span',[_vm._v(\"about this lab\")])],1)],1)])]):_vm._e()]),_c('transition',{attrs:{\"name\":\"slide-left\",\"appear\":\"\"}},[(_vm.copilotState.showTv)?_c('JasperTV',{staticClass:\"tv\",attrs:{\"screen-on\":_vm.copilotState.tvOn,\"pose\":_vm.copilotState.tvPose}}):_vm._e()],1),_c('DaySim',{ref:\"sim\",attrs:{\"viewWidth\":_vm.viewWidth,\"viewHeight\":_vm.viewHeight,\"playerLoading\":_vm.playerLoading,\"showGrid\":_vm.showGrid,\"cameraTarget\":_vm.cameraTarget,\"cameraFollow\":_vm.cameraFollow,\"showEarthOrbits\":_vm.showEarthOrbits,\"showSunOrbits\":_vm.showSunOrbits,\"showEOTWedge\":_vm.showEOTWedge,\"showSun\":_vm.showSun,\"showMeanSun\":_vm.showMeanSun,\"showSiderialDayArc\":_vm.showSiderialDayArc,\"showMeanDayArc\":_vm.showMeanDayArc,\"showSolarDayArc\":_vm.showSolarDayArc,\"showMonthLabels\":false,\"showPM\":_vm.showPM,\"tiltAngle\":_vm.tiltAngle * _vm.deg,\"eccentricity\":_vm.eccentricity,\"days\":_vm.day,\"daysPerYear\":_vm.daysPerYear,\"enableDragging\":_vm.enableDragging},on:{\"dragstart\":_vm.dragStart,\"drag\":_vm.drag,\"dragend\":_vm.dragEnd,\"camera:start\":function($event){_vm.cameraDragging = true},\"camera:end\":function($event){_vm.cameraDragging = false; _vm.meddleCamera()},\"camera:change\":_vm.meddleCamera}},[_c('span',{attrs:{\"slot\":\"earth-label\"},slot:\"earth-label\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.chapter\n  transition(name=\"fade\", enter)\n    .welcome-overlay(v-if=\"!playerLoading && showWelcome\")\n      .content.has-text-centered\n        h1.is-marginless\n          img(src=\"@/assets/thumbnail-transparent.png\", width=\"480\", alt=\"What is a Day?\")\n          .is-hidden What is a Day?\n        h2.subtitle.is-size-4-tablet.is-size-6 an interactive adventure\n        p Begin\n        p\n          button.button.btn-dark.is-gigantic(@click=\"player.play()\")\n            b-icon(icon=\"play\", size=\"is-large\")\n        p or\n        p.has-text-centered.bottom-buttons\n          router-link.button.btn-dark.is-small.is-rounded(:to=\"{ name: 'playground' }\")\n            b-icon(icon=\"orbit\", size=\"is-small\")\n            span go to playground\n          =' | '\n          router-link.button.btn-dark.is-small.is-rounded(:to=\"{ name: 'about' }\")\n            b-icon(icon=\"information\", size=\"is-small\")\n            span about this lab\n\n\n  transition(name=\"slide-left\", appear)\n    JasperTV.tv(v-if=\"copilotState.showTv\", :screen-on=\"copilotState.tvOn\", :pose=\"copilotState.tvPose\")\n  DaySim(\n    ref=\"sim\"\n    , :viewWidth=\"viewWidth\"\n    , :viewHeight=\"viewHeight\"\n    , :playerLoading=\"playerLoading\"\n    , :showGrid=\"showGrid\"\n    , :cameraTarget=\"cameraTarget\"\n    , :cameraFollow=\"cameraFollow\"\n    , :showEarthOrbits=\"showEarthOrbits\"\n    , :showSunOrbits=\"showSunOrbits\"\n    , :showEOTWedge=\"showEOTWedge\"\n    , :showSun=\"showSun\"\n    , :showMeanSun=\"showMeanSun\"\n    , :showSiderialDayArc=\"showSiderialDayArc\"\n    , :showMeanDayArc=\"showMeanDayArc\"\n    , :showSolarDayArc=\"showSolarDayArc\"\n    , :showMonthLabels=\"false\"\n    , :showPM=\"showPM\"\n\n    , :tiltAngle=\"tiltAngle * deg\"\n    , :eccentricity=\"eccentricity\"\n    , :days=\"day\"\n    , :daysPerYear=\"daysPerYear\"\n\n    , :enableDragging=\"enableDragging\"\n    , @dragstart=\"dragStart\"\n    , @drag=\"drag\"\n    , @dragend=\"dragEnd\"\n    , @camera:start=\"cameraDragging = true\"\n    , @camera:end=\"cameraDragging = false; meddleCamera()\"\n    , @camera:change=\"meddleCamera\"\n  )\n    span(slot=\"earth-label\")\n</template>\n\n<script>\nimport _forIn from 'lodash/forIn'\nimport Copilot from 'copilot'\nimport * as THREE from 'three'\nimport DaySim from '@/components/entities/day-sim'\nimport EOTGraph from '@/components/entities/eot-graph'\nimport SimControls from '@/components/sim-controls'\nimport JasperTV from '@/components/jasper-tv'\nimport chapterMixin from '@/components/chapters/chapter.mixin'\n\nexport default {\n  name: 'welcome'\n  , mixins: [ chapterMixin ]\n  , components: {\n    DaySim\n    , EOTGraph\n    , SimControls\n    , JasperTV\n  }\n  , data: () => ({\n    paused: false\n    , showWelcome: true\n    , pauseOnPlay: false\n  })\n  , methods: {\n    initCopilot(){\n      const solarDaysPerYear = 8\n\n      // copilot\n      let frames = this.frames = Copilot({\n        handsOff: {\n          type: Boolean\n          , default: true\n          , interpolatorOpts: { threshold: 0 }\n        }\n        , orbitalPosition: {\n          type: Number\n          , default: 0 // {0, 1}\n          , interpolatorOpts: { modulo: 1 }\n        }\n        , solarDaysPerYear: solarDaysPerYear\n        , tiltAngle: 0\n        , eccentricity: 0\n        , cameraTarget: {\n          type: String\n          , default: 'meanSun'\n          , interpolator: Copilot.Interpolators.Step\n          , interpolatorOpts: { threshold: 0 }\n        }\n        , cameraFollow: false\n        , showEarthOrbits: false\n        , showSunOrbits: false\n        , showEOTWedge: false\n        , showSun: true\n        , showMeanSun: false\n        , showSiderialDayArc: false\n        , showMeanDayArc: false\n        , showSolarDayArc: false\n        , showPM: false\n        , showGrid: false\n\n        , showStellarClock: true\n        , showSolarClock: false\n        , showDegrees: true\n\n        , cameraPosition: {\n          type: 'Vector3'\n          , default: new THREE.Vector3(0, 20, 30)\n        }\n        , cameraRotation: {\n          type: 'Vector3'\n          , default: new THREE.Vector3(0, 0, 0)\n        }\n        , cameraZoom: 30\n\n        , showTv: false\n        , tvOn: false\n        , tvPose: {\n          type: String\n          , default: 'greeting'\n          , interpolator: Copilot.Interpolators.Step\n          , interpolatorOpts: { threshold: 0 }\n        }\n      }, {\n        defaultTransitionDuration: '3s'\n      })\n\n      // const lab = this\n      function stickFigureStuff( keyframes ){\n        _forIn(keyframes, (f, time) => frames.add({ tvPose: f, $meta: { time, duration: 1 } }))\n      }\n\n      frames.add({\n        showTv: true\n        , tvPose: 'greeting'\n      }, {\n        time: '1s'\n        , duration: 1\n      })\n\n      frames.add({\n        tvOn: true\n      }, {\n        time: '2s'\n        , duration: 1\n      })\n\n      stickFigureStuff({\n        '5s': 'open-arms'\n        , '8s': 'talk2'\n        , '11.5s': 'shrug'\n        , '13s': 'talk2'\n        , '14.5s': 'thinking'\n        , '17.5s': 'talk2'\n        , '22s': 'idea'\n        , '23s': 'head-scratch'\n        , '26s': 'talk2'\n        , '31s': 'open-arms'\n        , '33s': 'thinking'\n        , '37s': 'exasperated'\n        , '40s': 'facepalm'\n        , '43s': 'talk2'\n        , '46.5s': 'idea'\n        , '48s': 'thinking'\n        , '51s': 'shrug'\n        , '54s': 'talk2'\n        , '55s': 'point-nw'\n        , '58s': 'talk2'\n        , '01:05': 'magic'\n        , '01:08': 'talk2'\n        , '01:11': 'open-arms'\n        , '01:14': 'talk2'\n        , '01:23': 'idea'\n        , '01:26': 'talk2'\n        , '01:44': 'open-arms'\n        , '01:53': 'thumbs-up'\n        , '01:56': 'talk2'\n        , '01:57': 'open-arms'\n      })\n\n      frames.add({\n        handsOff: false\n        , showMeanSun: true\n        , showEarthOrbits: true\n        , showEOTWedge: true\n        , eccentricity: 0.02\n        , tiltAngle: 23.4\n        , showMeanDayArc: true\n        , showSolarDayArc: true\n        , showSiderialDayArc: true\n      }, {\n        time: '55s'\n        , duration: '1s'\n      })\n\n      frames.add({\n        orbitalPosition: 4\n      }, {\n        time: '01:58'\n        , startTime: '54s'\n      })\n\n      frames.add({\n        handsOff: true\n        , tvOn: false\n      }, {\n        time: '01:58'\n        , duration: 1\n      })\n\n      this.setQueue('01:11', () => {\n        this.$snackbar.open({\n          message: 'Tip: Scroll or pinch to zoom'\n          , position: 'is-top'\n        })\n      })\n\n      const disableWelcome = () => {\n        this.showWelcome = false\n        this.player.$off('play', disableWelcome)\n        this.player.$off('seek', disableWelcome)\n      }\n\n      this.player.$once('play', disableWelcome)\n      this.player.$once('seek', disableWelcome)\n      this.$on('hook:beforeDestroy', disableWelcome)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n.welcome-overlay\n  position: absolute\n  top: 0\n  left: 0\n  bottom: 0\n  right: 0\n  background: rgba(0, 0, 0, 0.5)\n  z-index: 1\n\n  display: flex\n  align-items: center\n  justify-content: center\n\n  .subtitle\n    margin-top: -1em\n\n  @media screen and (min-width: 768px)\n    .subtitle\n      margin-bottom: 1em\n\n    .content\n      margin-bottom: 10em\n\n  .content\n    &,\n    .title,\n    .subtitle\n      text-shadow: 0.05em 0.05em transparentize($blue, 0.2)\n\n  // .about\n  //   position: absolute\n  //   bottom: 1em\n  //   right: 1em\n\n  .is-gigantic\n    font-size: 2.5em\n\n  .bottom-buttons .button\n    width: 13em\n.tv\n  position: absolute\n  right: 4px\n  bottom: 4px\n  width: 300px\n  height: 9/16 * 300px\n  z-index: 1\n\n@media screen and (max-width: 480px)\n  .tv\n    width: 140px\n    height: 9/16 * 140px\n\n.chapter\n  background: $background\n  cursor: crosshair\n  overflow: hidden\n\n.tools\n  position: absolute\n  z-index: 1\n  left: 3em\n  bottom: -1em\n  pointer-events: all\n\n  .icon-btn\n    cursor: pointer\n    transition: color 0.15s ease\n    color: $red\n    &:hover,\n    &:active\n      color: lighten($red, 10)\n\n.earth-label,\n.stellar-label,\n.solar-label\n  text-shadow: 0 0 5px rgba(0, 0, 0, 1)\n  font-family: $family-monospace\n.earth-label\n  position: relative\n  bottom: 1em\n.stellar-label\n  color: $blue\n.clock\n  position: absolute\n  margin-top: -1rem\n  right: 0\n  font-family: $family-monospace\n  text-align: center\n.angle-label\n  display: inline-block\n  width: 2.5em\n  text-align: center\n.degrees\n  letter-spacing: -1em\n\n.slide-left-enter,\n.slide-left-leave-to\n  transform: translate(300px, 0)\n.slide-left-enter-active,\n.slide-left-leave-active\n  transition: all 0.5s ease\n.slide-left-enter-to,\n.slide-left-leave\n  transform: translate(0, 0)\n\n.fade-enter-active,\n.fade-leave-active\n  transition: opacity 0.3s ease\n.fade-enter,\n.fade-leave-to\n  opacity: 0\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=85abc6e8&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=85abc6e8&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85abc6e8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/Jasper - Idea.38004743.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Open Arms.65f0f438.png\";","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","module.exports = __webpack_public_path__ + \"img/Jasper - Pointing NW.8fac6930.png\";","module.exports = __webpack_public_path__ + \"img/Jasper - Magic.a9ead834.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jasper-tv.vue?vue&type=style&index=0&id=3a1360c4&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jasper-tv.vue?vue&type=style&index=0&id=3a1360c4&scoped=true&lang=sass&\""],"sourceRoot":""}