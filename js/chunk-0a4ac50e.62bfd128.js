(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a4ac50e"],{"0272":function(t,a,e){t.exports=e.p+"img/Jasper - Greeting.ba744776.png"},"0b5c":function(t,a,e){"use strict";e("ac6a");var r=e("cebc"),o=(e("c5f6"),e("bd86")),n=e("5001"),s=e.n(n),i=e("7a05"),c=e("ac99"),h=2*Math.PI,l=Math.PI/180;function u(t,a,e){var r=.5*e,o=(a-t)%e;return(o-r)%e+r}function d(t){var a=Math.floor(t/60),e=Math.floor(t-60*a),r=a>=12?"pm":"am";return"pm"===r&&(a-=12),a=(a+11)%12+1,a<10&&(a="0"+a),e<10&&(e="0"+e),"".concat(a,":").concat(e).concat(r)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce(function(t,e){return t[e]={get:function(){return this.copilotState[e]},set:function(t){if(t!==this.copilotState[e]){var r=a;t.$meddleOptions&&(r=t.$meddleOptions,t=t.$value),this.frames.meddle(Object(o["a"])({},e,t),r),"orbitalPosition"!==e&&Object(c["a"])(this,e,t)}}},t},{})}var p=s.a.Easing.Elastic.Out;a["a"]={inject:["player"],props:{viewWidth:Number,viewHeight:Number,playerLoading:Boolean},data:function(){return{deg:l,pauseOnPlay:!0,cameraZoomCorrection:1,showEarthOptionsModal:!1,cameraDragging:!1,controlsOpen:!1,graphOpen:!1,paused:!0,yearAngleDrag:!1,playRate:.1,copilotState:{}}},computed:Object(r["a"])({daysPerYear:function(){return this.solarDaysPerYear+1},eot:function(){return this.getEOT()},radsPerYear:function(){return h/this.daysPerYear},meanAnomaly:function(){return this.day*this.radsPerYear-i["a"]},day:function(){return this.orbitalPosition*this.daysPerYear},dayAngle:function(){return(360*this.day-1)%360+1},siderealClock:function(){var t=1440,a=(this.day+.5)%1,e=t*a;return d(e)},meanClock:function(){var t=1440,a=(this.day*(1-1/this.daysPerYear)+i["a"]/h+.5)%1,e=t*a;return d(e)},solarClock:function(){var t=1440,a=(this.day*(1-1/this.daysPerYear)+i["a"]/h+.5+this.getEOT()/h)%1,e=t*a;return d(e)},handsOff:function(){return this.player.paused||this.copilotState.handsOff},enableDragging:function(){return this.showSun||this.showEarthOrbits},solarLabelAbove:function(){var t=this.cameraTheta/h,a=Object(i["d"])(this.orbitalPosition+t,1)<.5,e=this.cameraTopDown;return this.eot>0^a^e},cameraTheta:function(){var t=this.copilotState.cameraPosition.x,a=this.copilotState.cameraPosition.z;return Object(i["d"])(Math.atan2(a,t),h)},cameraTopDown:function(){var t=this.copilotState.cameraPosition.y;return t>=0}},f(["highlight","highlightControl","orbitalPosition","eccentricity","tiltAngle","cameraTarget","cameraFollow","solarDaysPerYear","showEarthOrbits","showSunOrbits","showEOTWedge","showSun","showMeanSun","showMonthLabels","showSiderialDayArc","showMeanDayArc","showSolarDayArc","showPM","showGrid","showStellarClock","showSolarClock","showMeanClock","showDegrees"],{relaxDelay:1e3,relaxDuration:1e3,easing:p})),watch:{handsOff:function(t){this.frames.freeze(t,!0)}},created:function(){var t=this;this.queues=[],this.initCopilot();var a=this.frames;this.setState(Object(r["a"])({},this.frames._defaultState));var e=s.a.Animation.Smoothener(a,{duration:80}),o=function(){var t=a.state;e.setState(t)},n=0,i=function(e){t.beforeFrame();var r=a.state,o=n?1e3/60:n-e;n=e,t.onFrame(r,o)},c=this.player.$watch("time",function(e){a.seek(e),t.execQueues(e)});a.on("update",o),this.$on("hook:mounted",function(){t.player.$on("frame",i)}),this.$on("hook:beforeDestroy",function(){c(),a.off(),t.player.$off("frame",i)});var h=function(){t.pauseOnPlay&&(t.paused=!0)};this.player.$on("play",h),this.$on("hook:beforeDestroy",function(){t.player.$off("play",h)})},mounted:function(){var t=this,a=function(){var a=1,e=window.innerWidth;e<=720&&(a=e/720),t.cameraZoomCorrection=a};window.addEventListener("resize",a),this.$on("hook:beforeDestroy",function(){return window.removeEventListener("resize",a)}),a()},methods:{beforeFrame:function(){var t=this.orbitalPosition;if(this.handsOff&&!this.paused){t+=this.playRate/100,t=Object(i["d"])(t,1);var a=this.frames.getStateAt(this.frames.time).orbitalPosition;t=a+u(a,t,1),this.orbitalPosition={$value:t,$meddleOptions:{freeze:this.handsOff,relaxDelay:0,relaxDuration:1,easing:s.a.Easing.Quadratic.InOut}}}else if(this.paused&&this.yearAngleDrag){var e=this.yearAngleDrag/h,r=.5,o=e-t;Math.abs(o)>r&&(o>0?o-=1:o+=1),t+=.05*o,t=Object(i["d"])(t,this.daysPerYear);var n=this.frames.getStateAt(this.frames.time).orbitalPosition;t=n+u(n,t,1),this.orbitalPosition={$value:t,$meddleOptions:{freeze:this.handsOff,relaxDelay:1e3,relaxDuration:1e3,easing:p}}}},onFrame:function(t){this.setState(t)},setState:function(t){this.$refs.sim&&this.$refs.sim.setCameraProperties({position:t.cameraPosition,zoom:t.cameraZoom*this.cameraZoomCorrection}),this.copilotState=t},dragStart:function(){this.dragging=!0,this.prevPauseState=this.paused,this.paused=!0},drag:function(t){this.yearAngleDrag=this.meanAnomaly+t},dragEnd:function(){this.dragging=!1,this.yearAngleDrag=!1,this.paused=this.prevPauseState},meddleCamera:function(t){var a={};t&&(a.cameraPosition=t.position.clone(),a.cameraZoom=t.zoom/this.cameraZoomCorrection),this.frames.meddle("camera",a,{relaxDelay:1e3,relaxDuration:1e3,freeze:this.handsOff||this.cameraDragging,easing:s.a.Easing.Cubic.InOut})},setQueue:function(t,a){var e=s.a.Parsers.timeParser(t);this.queues.push({time:e,fn:a})},execQueues:function(t){var a=this.lastQueueTime||0;this.lastQueueTime=t,a>=t||this.queues.forEach(function(e){t<e.time||e.time<=a||e.fn()})},getEOT:function(){var t=this.meanAnomaly%h,a=this.eccentricity,e=this.tiltAngle,r=i["a"]-i["b"];return Object(i["c"])(t,a,e,r)}}}},"0de7":function(t,a,e){t.exports=e.p+"img/Jasper - Shrug.46bcb81c.png"},1304:function(t,a,e){var r=e("cd9d");function o(t){return"function"==typeof t?t:r}t.exports=o},"1c27":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"jasper-tv"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.wasOn,expression:"wasOn"}],staticClass:"screen",class:{on:t.screenOn,off:t.wasOn&&!t.screenOn}},[t.img?t._e():e("img",{staticClass:"pose",attrs:{src:t.poses[t.pose]}}),t.img?e("img",{staticClass:"custom-image",attrs:{src:t.img}}):t._e(),e("canvas",{directives:[{name:"show",rawName:"v-show",value:t.showFuzz,expression:"showFuzz"}],ref:"canvas",staticClass:"fuzz"})])])},o=[];function n(t){var a=t.getContext("gl")||t.getContext("2d"),e=1,r=50,o=15*r,n=10,s=[],i=0,c=0,h=0;function l(){if(t.width=t.offsetWidth/e,t.height=t.width/(t.offsetWidth/t.offsetHeight),t.width&&t.height){i=t.offsetHeight/e/3,s=[];for(var r=0;r<n;r++)s.push(d(a,t.width,t.height))}}function u(t,a,e,r,o){return e+(t-a)/(r-a)*(o-e)}function d(t,a,e){for(var r=[],o=e/50,n=1-.05*Math.random(),s=[],i=0;i<Math.floor(e/o)+o;i++)s.push(Math.floor(15*Math.random()));for(var c=0;c<e;c++){var h=u(c/o,Math.floor(c/o),s[Math.floor(c/o)],Math.floor(c/o)+1,s[Math.floor(c/o)+1]);r.push(h)}for(var l=t.createImageData(a,e),d=0;d<a*e;d++){var f=4*d,p=Math.floor(36*Math.random());p+=r[Math.floor(d/a)],l.data[f]=l.data[f+1]=l.data[f+2]=p,l.data[f+3]=Math.round(255*n)}return l}function f(){a.putImageData(s[Math.floor(c)],0,0),c+=20/r,c>=s.length&&(c=0);var e=a.createLinearGradient(0,h,0,i+h);e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(.1,"rgba(255,255,255,0)"),e.addColorStop(.2,"rgba(255,255,255,0.2)"),e.addColorStop(.3,"rgba(255,255,255,0.0)"),e.addColorStop(.45,"rgba(255,255,255,0.1)"),e.addColorStop(.5,"rgba(255,255,255,1.0)"),e.addColorStop(.55,"rgba(255,255,255,0.55)"),e.addColorStop(.6,"rgba(255,255,255,0.25)"),e.addColorStop(1,"rgba(255,255,255,0)"),a.fillStyle=e,a.globalCompositeOperation="lighter",h+=t.height/o,h>t.height&&(h=-i/2)}return{init:l,render:f}}var s={exasperated:e("7e20"),facepalm:e("56aa"),greeting:e("0272"),"head-scratch":e("2fef"),magic:e("fe48"),idea:e("c8ff"),"open-arms":e("da6a"),"point-nw":e("fc16"),shrug:e("0de7"),talk2:e("3151"),thinking:e("8db5"),"thumbs-up":e("4f2e")},i={name:"JasperTV",props:["pose","screenOn","img"],components:{},data:function(){return{poses:s,showFuzz:!1,wasOn:!1}},mounted:function(){var t=this,a=this.fuzz=n(this.$refs.canvas),e=!1,r=function r(){e||(window.requestAnimationFrame(r),t.showFuzz&&a.render())};a.init(),r(),this.$on("hook:beforeDestroy",function(){e=!0})},watch:{screenOn:{handler:function(t){var a=this;clearTimeout(this.timeout),t?(this.wasOn=!0,this.showFuzz=!0,this.$nextTick(function(){a.fuzz.init()}),this.timeout=setTimeout(function(){a.showFuzz=!1},1e3)):this.showFuzz=!1},immediate:!0}},methods:{}},c=i,h=(e("ff2e"),e("2877")),l=Object(h["a"])(c,r,o,!1,null,"3a1360c4",null);a["a"]=l.exports},"2fef":function(t,a,e){t.exports=e.p+"img/Jasper - Head scratch.97905d00.png"},3151:function(t,a,e){t.exports=e.p+"img/Jasper - Talk 2.a3ff2d8d.png"},"41c3":function(t,a,e){var r=e("1a8c"),o=e("eac5"),n=e("ec8c"),s=Object.prototype,i=s.hasOwnProperty;function c(t){if(!r(t))return n(t);var a=o(t),e=[];for(var s in t)("constructor"!=s||!a&&i.call(t,s))&&e.push(s);return e}t.exports=c},"4c59":function(t,a,e){"use strict";var r=e("5174"),o=e.n(r);o.a},"4f2e":function(t,a,e){t.exports=e.p+"img/Jasper - Thumbs up.8e24a7ef.png"},5174:function(t,a,e){},"56aa":function(t,a,e){t.exports=e.p+"img/Jasper - Facepalm.29347f4b.png"},"7e20":function(t,a,e){t.exports=e.p+"img/Jasper - Exasperated.3e028334.png"},"8db5":function(t,a,e){t.exports=e.p+"img/Jasper - Thinking.4e4add10.png"},9934:function(t,a,e){var r=e("6fcd"),o=e("41c3"),n=e("30c9");function s(t){return n(t)?r(t,!0):o(t)}t.exports=s},9948:function(t,a,e){var r=e("72af"),o=e("1304"),n=e("9934");function s(t,a){return null==t?t:r(t,o(a),n)}t.exports=s},b659:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"chapter"},[r("transition",{attrs:{name:"fade",enter:""}},[!t.playerLoading&&t.showWelcome?r("div",{staticClass:"welcome-overlay"},[r("div",{staticClass:"content has-text-centered"},[r("h1",{staticClass:"is-marginless"},[r("img",{attrs:{src:e("c09d"),width:"480",alt:"What is a Day?"}}),r("div",{staticClass:"is-hidden"},[t._v("What is a Day?")])]),r("h2",{staticClass:"subtitle is-size-4-tablet is-size-6"},[t._v("an interactive adventure")]),r("p",[t._v("Begin")]),r("p",[r("button",{staticClass:"button btn-dark is-gigantic",on:{click:function(a){return t.player.play()}}},[r("b-icon",{attrs:{icon:"play",size:"is-large"}})],1)]),r("p",[t._v("or")]),r("p",{staticClass:"has-text-centered bottom-buttons"},[r("router-link",{staticClass:"button btn-dark is-small is-rounded",attrs:{to:{name:"playground"}}},[r("b-icon",{attrs:{icon:"orbit",size:"is-small"}}),r("span",[t._v("go to playground")])],1),t._v(" | "),r("router-link",{staticClass:"button btn-dark is-small is-rounded",attrs:{to:{name:"about"}}},[r("b-icon",{attrs:{icon:"information",size:"is-small"}}),r("span",[t._v("about this lab")])],1)],1)])]):t._e()]),r("transition",{attrs:{name:"slide-left",appear:""}},[t.copilotState.showTv?r("JasperTV",{staticClass:"tv",attrs:{"screen-on":t.copilotState.tvOn,pose:t.copilotState.tvPose}}):t._e()],1),r("DaySim",{ref:"sim",attrs:{viewWidth:t.viewWidth,viewHeight:t.viewHeight,playerLoading:t.playerLoading,showGrid:t.showGrid,cameraTarget:t.cameraTarget,cameraFollow:t.cameraFollow,showEarthOrbits:t.showEarthOrbits,showSunOrbits:t.showSunOrbits,showEOTWedge:t.showEOTWedge,showSun:t.showSun,showMeanSun:t.showMeanSun,showSiderialDayArc:t.showSiderialDayArc,showMeanDayArc:t.showMeanDayArc,showSolarDayArc:t.showSolarDayArc,showMonthLabels:!1,showPM:t.showPM,tiltAngle:t.tiltAngle*t.deg,eccentricity:t.eccentricity,days:t.day,daysPerYear:t.daysPerYear,enableDragging:t.enableDragging},on:{dragstart:t.dragStart,drag:t.drag,dragend:t.dragEnd,"camera:start":function(a){t.cameraDragging=!0},"camera:end":function(a){t.cameraDragging=!1,t.meddleCamera()},"camera:change":t.meddleCamera}},[r("span",{attrs:{slot:"earth-label"},slot:"earth-label"})])],1)},o=[],n=(e("c5f6"),e("9948")),s=e.n(n),i=e("5001"),c=e.n(i),h=e("5a89"),l=e("25e6"),u=e("d45c"),d=e("6b4b"),f=e("1c27"),p=e("0b5c"),m={name:"welcome",mixins:[p["a"]],components:{DaySim:l["a"],EOTGraph:u["a"],SimControls:d["a"],JasperTV:f["a"]},data:function(){return{paused:!1,showWelcome:!0,pauseOnPlay:!1}},methods:{initCopilot:function(){var t=this,a=8,e=this.frames=c()({handsOff:{type:Boolean,default:!0,interpolatorOpts:{threshold:0}},orbitalPosition:{type:Number,default:0,interpolatorOpts:{modulo:1}},solarDaysPerYear:a,tiltAngle:0,eccentricity:0,cameraTarget:{type:String,default:"meanSun",interpolator:c.a.Interpolators.Step,interpolatorOpts:{threshold:0}},cameraFollow:!1,showEarthOrbits:!1,showSunOrbits:!1,showEOTWedge:!1,showSun:!0,showMeanSun:!1,showSiderialDayArc:!1,showMeanDayArc:!1,showSolarDayArc:!1,showPM:!1,showGrid:!1,showStellarClock:!0,showSolarClock:!1,showDegrees:!0,cameraPosition:{type:"Vector3",default:new h["Vector3"](0,20,30)},cameraRotation:{type:"Vector3",default:new h["Vector3"](0,0,0)},cameraZoom:30,showTv:!1,tvOn:!1,tvPose:{type:String,default:"greeting",interpolator:c.a.Interpolators.Step,interpolatorOpts:{threshold:0}}},{defaultTransitionDuration:"3s"});function r(t){s()(t,function(t,a){return e.add({tvPose:t,$meta:{time:a,duration:1}})})}e.add({showTv:!0,tvPose:"greeting"},{time:"1s",duration:1}),e.add({tvOn:!0},{time:"2s",duration:1}),r({"5s":"open-arms","8s":"talk2","11.5s":"shrug","13s":"talk2","14.5s":"thinking","17.5s":"talk2","22s":"idea","23s":"head-scratch","26s":"talk2","31s":"open-arms","33s":"thinking","37s":"exasperated","40s":"facepalm","43s":"talk2","46.5s":"idea","48s":"thinking","51s":"shrug","54s":"talk2","55s":"point-nw","58s":"talk2","01:05":"magic","01:08":"talk2","01:11":"open-arms","01:14":"talk2","01:23":"idea","01:26":"talk2","01:44":"open-arms","01:53":"thumbs-up","01:56":"talk2","01:57":"open-arms"}),e.add({handsOff:!1,showMeanSun:!0,showEarthOrbits:!0,showEOTWedge:!0,eccentricity:.02,tiltAngle:23.4,showMeanDayArc:!0,showSolarDayArc:!0,showSiderialDayArc:!0},{time:"55s",duration:"1s"}),e.add({orbitalPosition:4},{time:"01:58",startTime:"54s"}),e.add({handsOff:!0,tvOn:!1},{time:"01:58",duration:1}),this.setQueue("01:11",function(){t.$snackbar.open({message:"Tip: Scroll or pinch to zoom",position:"is-top"})});var o=function a(){t.showWelcome=!1,t.player.$off("play",a),t.player.$off("seek",a)};this.player.$once("play",o),this.player.$once("seek",o),this.$on("hook:beforeDestroy",o)}}},g=m,w=(e("4c59"),e("2877")),v=Object(w["a"])(g,r,o,!1,null,"85abc6e8",null);a["default"]=v.exports},c1a0:function(t,a,e){},c8ff:function(t,a,e){t.exports=e.p+"img/Jasper - Idea.38004743.png"},da6a:function(t,a,e){t.exports=e.p+"img/Jasper - Open Arms.65f0f438.png"},ec8c:function(t,a){function e(t){var a=[];if(null!=t)for(var e in Object(t))a.push(e);return a}t.exports=e},fc16:function(t,a,e){t.exports=e.p+"img/Jasper - Pointing NW.8fac6930.png"},fe48:function(t,a,e){t.exports=e.p+"img/Jasper - Magic.a9ead834.png"},ff2e:function(t,a,e){"use strict";var r=e("c1a0"),o=e.n(r);o.a}}]);
//# sourceMappingURL=chunk-0a4ac50e.62bfd128.js.map